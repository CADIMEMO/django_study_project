{% extends 'shopapp/base.html' %}

{% block title %}
    product detail
{% endblock %}

{% block body %}
    <div>
        <p>name {{object.name}}</P>
        <p>description {{object.description}}</P>
        <p>discount {{object.discount}}</P>
        <p>archieved {{object.archieved}}</P>
        <p>price {{object.price}}</P>
        <p>created by {{object.created_by}}</p>
        {% if product.preview %}
          <img src="{{ product.preview.url }}" alt="{{ product.preview.name }}">
        {% endif %}
        <h3>Images:</h3>
        <div>
            {% for image in product.images.all %}
            <div>
                <img src="{{ image.image.url }}" alt="{{ image.image.name }}">
                <div>
                    {{ image.description }}
                </div>
            </div>
            {% empty %}
                <div> No images uploaded yet </div>
            {% endfor %}
        </div>
    </div>
    {% if perms.shopapp.change_product %}
        <div>
            <a href="{% url 'shopapp:product_update' pk=object.pk %}">update</a>
        </div>
    {% else %}
        <p>no permission to update</p>
    {% endif %}
    {% if perms.shopapp.delete_product%}
        <div>
            <a href="{% url 'shopapp:product_delete' pk=object.pk %}">delete</a>
        </div>
    {% else %}
        <p>no permission to delete</p>
    {% endif %}



{% endblock %}